nextflow.enable.dsl=2

params {
    reads      = "s3://data/fastq_files/*_{1,2}.fastq.gz"
    reference  = "s3://data/references/hg38.fa"
    outdir     = "s3://results"
}

//params {
//    reads = "data/fastq_files/*_{1,2}.fastq"
//    outdir = "results"
//}

process {
    executor = 'local'
    cpus = 4
    memory = '4 GB'
}

profiles {
  aws {
    process.executor = 'awsbatch'
    process.queue = 'nextflow-queue'
    aws.region = 'sa-east-1'

    workDir = 'arn:aws:s3:::pypeline-nextflow-bucket'

    docker.enabled = true
    process.container = "roxicaro/pypeline:latest"
  }
}
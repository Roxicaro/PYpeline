nextflow.enable.dsl=2

params {
    reads      = "s3://pypeline-nextflow-bucket/data/fastq_files/*_{1,2}.fastq"
    reference  = "s3://pypeline-nextflow-bucket/data/references/hg38.fa"
    outdir     = "s3://pypeline-nextflow-bucket/results"
}

//params {
//    reads = "data/fastq_files/*_{1,2}.fastq"
//    outdir = "results"
//}

process {
    //executor = 'local'
    cpus = 1
   // memory = '4 GB'
}

profiles {
  aws_batch {
    process.executor = 'awsbatch'
    process.queue = 'nextflow-queue'
    aws.region = 'sa-east-1'

    workDir = 's3://pypeline-nextflow-bucket/work'

    docker.enabled = true
    process.container = "roxicaro/pypeline:latest"
  }
}